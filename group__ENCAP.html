<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>OpENer - Open Source EtherNet/IP(TM)  I/O Target Stack: OpENer Ethernet encapsulation layer</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">OpENer - Open Source EtherNet/IP(TM)  I/O Target Stack
   &#160;<span id="projectnumber">1.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__ENCAP.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">OpENer Ethernet encapsulation layer</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga2336d8a977ed1fc7cf4704823cb3039e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ENCAP.html#ga2336d8a977ed1fc7cf4704823cb3039e">assembleLinearMsg</a> (<a class="el" href="structS__CIP__MR__Response.html">S_CIP_MR_Response</a> *pa_MRResponse, <a class="el" href="structS__CIP__CPF__Data.html">S_CIP_CPF_Data</a> *pa_CPFDataItem, <a class="el" href="typedefs_8h.html#a811fdad4b361d09293f3bd0b814b8e18">EIP_UINT8</a> *pa_msg)</td></tr>
<tr class="separator:ga2336d8a977ed1fc7cf4704823cb3039e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6aeafd791e544ba9790fa507571785de"><td class="memItemLeft" align="right" valign="top"><a class="el" href="typedefs_8h.html#adf0533b554c6a20e73928f231e5286d9">EIP_STATUS</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ENCAP.html#ga6aeafd791e544ba9790fa507571785de">createCPFstructure</a> (<a class="el" href="typedefs_8h.html#a811fdad4b361d09293f3bd0b814b8e18">EIP_UINT8</a> *pa_Data, int pa_DataLength, <a class="el" href="structS__CIP__CPF__Data.html">S_CIP_CPF_Data</a> *pa_CPF_data)</td></tr>
<tr class="separator:ga6aeafd791e544ba9790fa507571785de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac99d7cc31b4aec1f7454a5f1b6f56091"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ENCAP.html#gac99d7cc31b4aec1f7454a5f1b6f56091">encapInit</a> (void)</td></tr>
<tr class="memdesc:gac99d7cc31b4aec1f7454a5f1b6f56091"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the encapsulation layer.  <a href="#gac99d7cc31b4aec1f7454a5f1b6f56091">More...</a><br /></td></tr>
<tr class="separator:gac99d7cc31b4aec1f7454a5f1b6f56091"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga23b3ee03c1cffe279bbf32f3d1d4a8a3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ENCAP.html#ga23b3ee03c1cffe279bbf32f3d1d4a8a3">encapShutDown</a> (void)</td></tr>
<tr class="memdesc:ga23b3ee03c1cffe279bbf32f3d1d4a8a3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shutdown the encapsulation layer.  <a href="#ga23b3ee03c1cffe279bbf32f3d1d4a8a3">More...</a><br /></td></tr>
<tr class="separator:ga23b3ee03c1cffe279bbf32f3d1d4a8a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa00e394da5cd80135cdab7d4f3d88819"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ENCAP.html#gaa00e394da5cd80135cdab7d4f3d88819">htoll</a> (<a class="el" href="typedefs_8h.html#a4f1d71ddb23827c1af144276d0dd1947">EIP_UINT32</a> data, <a class="el" href="typedefs_8h.html#a811fdad4b361d09293f3bd0b814b8e18">EIP_UINT8</a> **pa_buf)</td></tr>
<tr class="memdesc:gaa00e394da5cd80135cdab7d4f3d88819"><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts UINT32 data from host to little endian and writes it to pa_buf.  <a href="#gaa00e394da5cd80135cdab7d4f3d88819">More...</a><br /></td></tr>
<tr class="separator:gaa00e394da5cd80135cdab7d4f3d88819"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga738d386bb3919d75bb14dcb40ca5389f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ENCAP.html#ga738d386bb3919d75bb14dcb40ca5389f">htols</a> (<a class="el" href="typedefs_8h.html#a72b3e7231681538d97279aa001872297">EIP_UINT16</a> data, <a class="el" href="typedefs_8h.html#a811fdad4b361d09293f3bd0b814b8e18">EIP_UINT8</a> **pa_buf)</td></tr>
<tr class="memdesc:ga738d386bb3919d75bb14dcb40ca5389f"><td class="mdescLeft">&#160;</td><td class="mdescRight">converts UINT16 data from host to little endian an writes it to pa_buf.  <a href="#ga738d386bb3919d75bb14dcb40ca5389f">More...</a><br /></td></tr>
<tr class="separator:ga738d386bb3919d75bb14dcb40ca5389f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4ac7387e49002d26462d7cdd094d238a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="typedefs_8h.html#a4f1d71ddb23827c1af144276d0dd1947">EIP_UINT32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ENCAP.html#ga4ac7387e49002d26462d7cdd094d238a">ltohl</a> (<a class="el" href="typedefs_8h.html#a811fdad4b361d09293f3bd0b814b8e18">EIP_UINT8</a> **pa_buf)</td></tr>
<tr class="memdesc:ga4ac7387e49002d26462d7cdd094d238a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads EIP_UINT32 from *pa_buf and converts little endian to host.  <a href="#ga4ac7387e49002d26462d7cdd094d238a">More...</a><br /></td></tr>
<tr class="separator:ga4ac7387e49002d26462d7cdd094d238a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6ce01de4023c01608d2bdfdb584d59d3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="typedefs_8h.html#a72b3e7231681538d97279aa001872297">EIP_UINT16</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ENCAP.html#ga6ce01de4023c01608d2bdfdb584d59d3">ltohs</a> (<a class="el" href="typedefs_8h.html#a811fdad4b361d09293f3bd0b814b8e18">EIP_UINT8</a> **pa_buf)</td></tr>
<tr class="memdesc:ga6ce01de4023c01608d2bdfdb584d59d3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads EIP_UINT16 from *pa_buf and converts little endian to host.  <a href="#ga6ce01de4023c01608d2bdfdb584d59d3">More...</a><br /></td></tr>
<tr class="separator:ga6ce01de4023c01608d2bdfdb584d59d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga52899252b48f864da5b3f107a110a785"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ENCAP.html#ga52899252b48f864da5b3f107a110a785">manageEncapsulationMessages</a> ()</td></tr>
<tr class="memdesc:ga52899252b48f864da5b3f107a110a785"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handle delayed encapsulation message responses.  <a href="#ga52899252b48f864da5b3f107a110a785">More...</a><br /></td></tr>
<tr class="separator:ga52899252b48f864da5b3f107a110a785"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga615e04583bae27d4b8590e7f13d95d43"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ENCAP.html#ga615e04583bae27d4b8590e7f13d95d43">notifyConnectedCPF</a> (struct <a class="el" href="structS__Encapsulation__Data.html">S_Encapsulation_Data</a> *pa_stReceiveData, <a class="el" href="typedefs_8h.html#a811fdad4b361d09293f3bd0b814b8e18">EIP_UINT8</a> *pa_acReplyBuf)</td></tr>
<tr class="separator:ga615e04583bae27d4b8590e7f13d95d43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaae831feae33de32fc7ea4ba1a1f9cc74"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ENCAP.html#gaae831feae33de32fc7ea4ba1a1f9cc74">notifyCPF</a> (struct <a class="el" href="structS__Encapsulation__Data.html">S_Encapsulation_Data</a> *pa_stReceiveData, <a class="el" href="typedefs_8h.html#a811fdad4b361d09293f3bd0b814b8e18">EIP_UINT8</a> *pa_acReplyBuf)</td></tr>
<tr class="separator:gaae831feae33de32fc7ea4ba1a1f9cc74"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ga00e4db57a2684c23db31f0eef084b26b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structS__CIP__CPF__Data.html">S_CIP_CPF_Data</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ENCAP.html#ga00e4db57a2684c23db31f0eef084b26b">g_stCPFDataItem</a></td></tr>
<tr class="memdesc:ga00e4db57a2684c23db31f0eef084b26b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Data storage for the any cpf data Currently we are single threaded and need only one cpf at the time. For future extensions towards multithreading maybe more cpf data items may be necessary.  <a href="#ga00e4db57a2684c23db31f0eef084b26b">More...</a><br /></td></tr>
<tr class="separator:ga00e4db57a2684c23db31f0eef084b26b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>The Ethernet encapsulation layer handles provides the abstraction between the Ethernet and the CIP layer. </p>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga2336d8a977ed1fc7cf4704823cb3039e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int assembleLinearMsg </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structS__CIP__MR__Response.html">S_CIP_MR_Response</a> *&#160;</td>
          <td class="paramname"><em>pa_MRResponse</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structS__CIP__CPF__Data.html">S_CIP_CPF_Data</a> *&#160;</td>
          <td class="paramname"><em>pa_CPFDataItem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="typedefs_8h.html#a811fdad4b361d09293f3bd0b814b8e18">EIP_UINT8</a> *&#160;</td>
          <td class="paramname"><em>pa_msg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Copy data from MRResponse struct and CPFDataItem into linear memory in pa_msg for transmission over in encapsulation. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pa_MRResponse</td><td>pointer to message router response which has to be aligned into linear memory. </td></tr>
    <tr><td class="paramname">pa_CPFDataItem</td><td>pointer to CPF structure which has to be aligned into linear memory. </td></tr>
    <tr><td class="paramname">pa_msg</td><td>pointer to linear memory. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>length of reply in pa_msg in bytes EIP_ERROR .. error </dd></dl>

<p>Definition at line <a class="el" href="cpf_8c_source.html#l00235">235</a> of file <a class="el" href="cpf_8c_source.html">cpf.c</a>.</p>

<p>References <a class="el" href="ciptypes_8h_source.html#l00284">S_CIP_MR_Response::AdditionalStatus</a>, <a class="el" href="cpf_8h_source.html#l00070">S_CIP_CPF_Data::AddrInfo</a>, <a class="el" href="cpf_8h_source.html#l00025">CIP_ITEM_ID_CONNECTIONBASED</a>, <a class="el" href="cpf_8h_source.html#l00026">CIP_ITEM_ID_CONNECTIONTRANSPORTPACKET</a>, <a class="el" href="cpf_8h_source.html#l00023">CIP_ITEM_ID_NULL</a>, <a class="el" href="cpf_8h_source.html#l00031">CIP_ITEM_ID_SEQUENCEDADDRESS</a>, <a class="el" href="cpf_8h_source.html#l00029">CIP_ITEM_ID_SOCKADDRINFO_O_TO_T</a>, <a class="el" href="cpf_8h_source.html#l00030">CIP_ITEM_ID_SOCKADDRINFO_T_TO_O</a>, <a class="el" href="cpf_8h_source.html#l00027">CIP_ITEM_ID_UNCONNECTEDMESSAGE</a>, <a class="el" href="cpf_8h_source.html#l00035">S_Address_Data::ConnectionIdentifier</a>, <a class="el" href="cpf_8h_source.html#l00043">S_Address_Item::Data</a>, <a class="el" href="cpf_8h_source.html#l00050">S_Data_Item::Data</a>, <a class="el" href="ciptypes_8h_source.html#l00286">S_CIP_MR_Response::Data</a>, <a class="el" href="ciptypes_8h_source.html#l00285">S_CIP_MR_Response::DataLength</a>, <a class="el" href="typedefs_8h_source.html#l00068">EIP_UINT16</a>, <a class="el" href="typedefs_8h_source.html#l00067">EIP_UINT8</a>, <a class="el" href="endianconv_8c_source.html#l00166">encapsulateIPAdressCPF()</a>, <a class="el" href="ciptypes_8h_source.html#l00282">S_CIP_MR_Response::GeneralStatus</a>, <a class="el" href="endianconv_8c_source.html#l00063">htoll()</a>, <a class="el" href="endianconv_8c_source.html#l00048">htols()</a>, <a class="el" href="cpf_8h_source.html#l00067">S_CIP_CPF_Data::ItemCount</a>, <a class="el" href="cpf_8h_source.html#l00049">S_Data_Item::Length</a>, <a class="el" href="cpf_8h_source.html#l00056">S_SockAddrInfo_Item::Length</a>, <a class="el" href="cpf_8h_source.html#l00059">S_SockAddrInfo_Item::nsin_addr</a>, <a class="el" href="cpf_8h_source.html#l00058">S_SockAddrInfo_Item::nsin_port</a>, <a class="el" href="ciptypes_8h_source.html#l00280">S_CIP_MR_Response::ReplyService</a>, <a class="el" href="ciptypes_8h_source.html#l00281">S_CIP_MR_Response::Reserved</a>, <a class="el" href="cpf_8h_source.html#l00036">S_Address_Data::SequenceNumber</a>, <a class="el" href="ciptypes_8h_source.html#l00283">S_CIP_MR_Response::SizeofAdditionalStatus</a>, <a class="el" href="cpf_8h_source.html#l00068">S_CIP_CPF_Data::stAddr_Item</a>, <a class="el" href="cpf_8h_source.html#l00069">S_CIP_CPF_Data::stDataI_Item</a>, <a class="el" href="cpf_8h_source.html#l00041">S_Address_Item::TypeID</a>, <a class="el" href="cpf_8h_source.html#l00048">S_Data_Item::TypeID</a>, and <a class="el" href="cpf_8h_source.html#l00055">S_SockAddrInfo_Item::TypeID</a>.</p>

<p>Referenced by <a class="el" href="cpf_8c_source.html#l00064">notifyConnectedCPF()</a>, <a class="el" href="cpf_8c_source.html#l00020">notifyCPF()</a>, and <a class="el" href="cipioconnection_8c_source.html#l00652">sendConnectedData()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__ENCAP_ga2336d8a977ed1fc7cf4704823cb3039e_cgraph.svg" width="470" height="100"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="group__ENCAP_ga2336d8a977ed1fc7cf4704823cb3039e_icgraph.svg" width="100%" height="416"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga6aeafd791e544ba9790fa507571785de"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="typedefs_8h.html#adf0533b554c6a20e73928f231e5286d9">EIP_STATUS</a> createCPFstructure </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="typedefs_8h.html#a811fdad4b361d09293f3bd0b814b8e18">EIP_UINT8</a> *&#160;</td>
          <td class="paramname"><em>pa_Data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>pa_DataLength</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structS__CIP__CPF__Data.html">S_CIP_CPF_Data</a> *&#160;</td>
          <td class="paramname"><em>pa_CPF_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create CPF structure out of the received data. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pa_Data</td><td>pointer to data which need to be structured. </td></tr>
    <tr><td class="paramname">pa_DataLength</td><td>length of data in pa_Data. </td></tr>
    <tr><td class="paramname">pa_CPF_data</td><td>pointer to structure of CPF data item. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>status EIP_OK .. success EIP_ERROR .. error </dd></dl>

<p>Definition at line <a class="el" href="cpf_8c_source.html#l00139">139</a> of file <a class="el" href="cpf_8c_source.html">cpf.c</a>.</p>

<p>References <a class="el" href="cpf_8h_source.html#l00070">S_CIP_CPF_Data::AddrInfo</a>, <a class="el" href="cpf_8h_source.html#l00029">CIP_ITEM_ID_SOCKADDRINFO_O_TO_T</a>, <a class="el" href="cpf_8h_source.html#l00030">CIP_ITEM_ID_SOCKADDRINFO_T_TO_O</a>, <a class="el" href="cpf_8h_source.html#l00035">S_Address_Data::ConnectionIdentifier</a>, <a class="el" href="cpf_8h_source.html#l00043">S_Address_Item::Data</a>, <a class="el" href="cpf_8h_source.html#l00050">S_Data_Item::Data</a>, <a class="el" href="typedefs_8h_source.html#l00107">EIP_ERROR</a>, <a class="el" href="typedefs_8h_source.html#l00105">EIP_OK</a>, <a class="el" href="cpf_8h_source.html#l00067">S_CIP_CPF_Data::ItemCount</a>, <a class="el" href="cpf_8h_source.html#l00042">S_Address_Item::Length</a>, <a class="el" href="cpf_8h_source.html#l00049">S_Data_Item::Length</a>, <a class="el" href="cpf_8h_source.html#l00056">S_SockAddrInfo_Item::Length</a>, <a class="el" href="endianconv_8c_source.html#l00034">ltohl()</a>, <a class="el" href="endianconv_8c_source.html#l00020">ltohs()</a>, <a class="el" href="cpf_8h_source.html#l00060">S_SockAddrInfo_Item::nasin_zero</a>, <a class="el" href="cpf_8h_source.html#l00059">S_SockAddrInfo_Item::nsin_addr</a>, <a class="el" href="cpf_8h_source.html#l00057">S_SockAddrInfo_Item::nsin_family</a>, <a class="el" href="cpf_8h_source.html#l00058">S_SockAddrInfo_Item::nsin_port</a>, <a class="el" href="trace_8h_source.html#l00073">OPENER_TRACE_WARN</a>, <a class="el" href="cpf_8h_source.html#l00036">S_Address_Data::SequenceNumber</a>, <a class="el" href="cpf_8h_source.html#l00068">S_CIP_CPF_Data::stAddr_Item</a>, <a class="el" href="cpf_8h_source.html#l00069">S_CIP_CPF_Data::stDataI_Item</a>, <a class="el" href="cpf_8h_source.html#l00041">S_Address_Item::TypeID</a>, <a class="el" href="cpf_8h_source.html#l00048">S_Data_Item::TypeID</a>, and <a class="el" href="cpf_8h_source.html#l00055">S_SockAddrInfo_Item::TypeID</a>.</p>

<p>Referenced by <a class="el" href="cipconnectionmanager_8c_source.html#l00214">handleReceivedConnectedData()</a>, <a class="el" href="cpf_8c_source.html#l00064">notifyConnectedCPF()</a>, and <a class="el" href="cpf_8c_source.html#l00020">notifyCPF()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__ENCAP_ga6aeafd791e544ba9790fa507571785de_cgraph.svg" width="246" height="88"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="group__ENCAP_ga6aeafd791e544ba9790fa507571785de_icgraph.svg" width="100%" height="459"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
</p>

</div>
</div>
<a class="anchor" id="gac99d7cc31b4aec1f7454a5f1b6f56091"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void encapInit </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize the encapsulation layer. </p>

<p>Definition at line <a class="el" href="encap_8c_source.html#l00125">125</a> of file <a class="el" href="encap_8c_source.html">encap.c</a>.</p>

<p>References <a class="el" href="encap_8c_source.html#l00074">anRegisteredSessions</a>, <a class="el" href="encap_8h_source.html#l00050">S_Encapsulation_Interface_Information::CapabilityFlags</a>, <a class="el" href="cpf_8h_source.html#l00028">CIP_ITEM_ID_LISTSERVICE_RESPONSE</a>, <a class="el" href="endianconv_8c_source.html#l00203">determineEndianess()</a>, <a class="el" href="typedefs_8h_source.html#l00082">EIP_INVALID_SOCKET</a>, <a class="el" href="encap_8c_source.html#l00057">ENCAP_NUMBER_OF_SUPPORTED_DELAYED_ENCAP_MESSAGES</a>, <a class="el" href="encap_8h_source.html#l00049">S_Encapsulation_Interface_Information::EncapsulationProtocolVersion</a>, <a class="el" href="encap_8c_source.html#l00076">g_stDelayedEncapsulationMessages</a>, <a class="el" href="encap_8c_source.html#l00072">g_stInterfaceInformation</a>, <a class="el" href="ciptypes_8h_source.html#l00345">CIPTCPIPNetworkInterfaceConfiguration::IPAddress</a>, <a class="el" href="encap_8h_source.html#l00048">S_Encapsulation_Interface_Information::Length</a>, <a class="el" href="encap_8c_source.html#l00066">SDelayedEncapsulationMessage::m_nSocket</a>, <a class="el" href="encap_8h_source.html#l00051">S_Encapsulation_Interface_Information::NameofService</a>, <a class="el" href="LM3S8962_2sample__application_2opener__user__conf_8h_source.html#l00114">OPENER_NUMBER_OF_SUPPORTED_SESSIONS</a>, <a class="el" href="encap_8c_source.html#l00054">SUPPORT_CIP_TCP</a>, <a class="el" href="encap_8c_source.html#l00055">SUPPORT_CIP_UDP_CLASS_0_OR_1</a>, and <a class="el" href="encap_8h_source.html#l00047">S_Encapsulation_Interface_Information::TypeCode</a>.</p>

<p>Referenced by <a class="el" href="cipcommon_8c_source.html#l00033">CIP_Init()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__ENCAP_gac99d7cc31b4aec1f7454a5f1b6f56091_cgraph.svg" width="274" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__ENCAP_gac99d7cc31b4aec1f7454a5f1b6f56091_icgraph.svg" width="303" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga23b3ee03c1cffe279bbf32f3d1d4a8a3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void encapShutDown </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Shutdown the encapsulation layer. </p>
<p>This means that all open sessions including their sockets are closed. </p>

<p>Definition at line <a class="el" href="encap_8c_source.html#l00708">708</a> of file <a class="el" href="encap_8c_source.html">encap.c</a>.</p>

<p>References <a class="el" href="encap_8c_source.html#l00074">anRegisteredSessions</a>, <a class="el" href="typedefs_8h_source.html#l00082">EIP_INVALID_SOCKET</a>, <a class="el" href="LM3S8962_2networkhandler_8c_source.html#l00418">IApp_CloseSocket_tcp()</a>, and <a class="el" href="LM3S8962_2sample__application_2opener__user__conf_8h_source.html#l00114">OPENER_NUMBER_OF_SUPPORTED_SESSIONS</a>.</p>

<p>Referenced by <a class="el" href="cipcommon_8c_source.html#l00056">shutdownCIP()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__ENCAP_ga23b3ee03c1cffe279bbf32f3d1d4a8a3_cgraph.svg" width="334" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__ENCAP_ga23b3ee03c1cffe279bbf32f3d1d4a8a3_icgraph.svg" width="378" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

</div>
</div>
<a class="anchor" id="gaa00e394da5cd80135cdab7d4f3d88819"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void htoll </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="typedefs_8h.html#a4f1d71ddb23827c1af144276d0dd1947">EIP_UINT32</a>&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="typedefs_8h.html#a811fdad4b361d09293f3bd0b814b8e18">EIP_UINT8</a> **&#160;</td>
          <td class="paramname"><em>pa_buf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Converts UINT32 data from host to little endian and writes it to pa_buf. </p>
<p>Write an 32Bit integer to the network buffer. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>value to write </td></tr>
    <tr><td class="paramname">pa_buf</td><td>pointer to the network buffer array. This pointer will be incremented by 4!</td></tr>
    <tr><td class="paramname">data</td><td>value to be written </td></tr>
    <tr><td class="paramname">pa_buf</td><td>pointer where data should be written. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="endianconv_8c_source.html#l00063">63</a> of file <a class="el" href="endianconv_8c_source.html">endianconv.c</a>.</p>

<p>Referenced by <a class="el" href="cipconnectionmanager_8c_source.html#l00751">assembleFWDCloseResponse()</a>, <a class="el" href="cipconnectionmanager_8c_source.html#l00635">assembleFWDOpenResponse()</a>, <a class="el" href="cpf_8c_source.html#l00235">assembleLinearMsg()</a>, <a class="el" href="encap_8c_source.html#l00286">encapsulate_data()</a>, <a class="el" href="endianconv_8c_source.html#l00129">encapsulateIPAdress()</a>, <a class="el" href="endianconv_8c_source.html#l00166">encapsulateIPAdressCPF()</a>, <a class="el" href="encap_8c_source.html#l00381">encapsulateListIdentyResponseMessage()</a>, <a class="el" href="cipcommon_8c_source.html#l00432">encodeData()</a>, <a class="el" href="encap_8c_source.html#l00451">handleReceivedRegisterSessionCmd()</a>, and <a class="el" href="cipioconnection_8c_source.html#l00652">sendConnectedData()</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="group__ENCAP_gaa00e394da5cd80135cdab7d4f3d88819_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga738d386bb3919d75bb14dcb40ca5389f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void htols </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="typedefs_8h.html#a72b3e7231681538d97279aa001872297">EIP_UINT16</a>&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="typedefs_8h.html#a811fdad4b361d09293f3bd0b814b8e18">EIP_UINT8</a> **&#160;</td>
          <td class="paramname"><em>pa_buf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>converts UINT16 data from host to little endian an writes it to pa_buf. </p>
<p>Write an 16Bit integer to the network buffer. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>value to write </td></tr>
    <tr><td class="paramname">pa_buf</td><td>pointer to the network buffer array. This pointer will be incremented by 2!</td></tr>
    <tr><td class="paramname">data</td><td>value to be written </td></tr>
    <tr><td class="paramname">pa_buf</td><td>pointer where data should be written. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="endianconv_8c_source.html#l00048">48</a> of file <a class="el" href="endianconv_8c_source.html">endianconv.c</a>.</p>

<p>Referenced by <a class="el" href="cipconnectionmanager_8c_source.html#l00751">assembleFWDCloseResponse()</a>, <a class="el" href="cipconnectionmanager_8c_source.html#l00635">assembleFWDOpenResponse()</a>, <a class="el" href="cpf_8c_source.html#l00235">assembleLinearMsg()</a>, <a class="el" href="encap_8c_source.html#l00286">encapsulate_data()</a>, <a class="el" href="endianconv_8c_source.html#l00129">encapsulateIPAdress()</a>, <a class="el" href="endianconv_8c_source.html#l00166">encapsulateIPAdressCPF()</a>, <a class="el" href="encap_8c_source.html#l00381">encapsulateListIdentyResponseMessage()</a>, <a class="el" href="cipcommon_8c_source.html#l00432">encodeData()</a>, <a class="el" href="cipcommon_8c_source.html#l00737">encodeEPath()</a>, <a class="el" href="encap_8c_source.html#l00341">handleReceivedListIdentityCmdUDP()</a>, <a class="el" href="encap_8c_source.html#l00326">handleReceivedListInterfacesCmd()</a>, <a class="el" href="encap_8c_source.html#l00309">handleReceivedListServicesCmd()</a>, and <a class="el" href="cipioconnection_8c_source.html#l00652">sendConnectedData()</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="group__ENCAP_ga738d386bb3919d75bb14dcb40ca5389f_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga4ac7387e49002d26462d7cdd094d238a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="typedefs_8h.html#a4f1d71ddb23827c1af144276d0dd1947">EIP_UINT32</a> ltohl </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="typedefs_8h.html#a811fdad4b361d09293f3bd0b814b8e18">EIP_UINT8</a> **&#160;</td>
          <td class="paramname"><em>pa_buf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads EIP_UINT32 from *pa_buf and converts little endian to host. </p>
<p>Get an 32Bit integer from the network buffer. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pa_buf</td><td>pointer to the network buffer array. This pointer will be incremented by 4!</td></tr>
    <tr><td class="paramname">pa_buf</td><td>pointer where data should be reed. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>EIP_UN√çT32 value </dd></dl>

<p>Definition at line <a class="el" href="endianconv_8c_source.html#l00034">34</a> of file <a class="el" href="endianconv_8c_source.html">endianconv.c</a>.</p>

<p>References <a class="el" href="typedefs_8h_source.html#l00069">EIP_UINT32</a>.</p>

<p>Referenced by <a class="el" href="cpf_8c_source.html#l00139">createCPFstructure()</a>, <a class="el" href="encap_8c_source.html#l00651">createEncapsulationStructure()</a>, <a class="el" href="cipcommon_8c_source.html#l00598">decodeData()</a>, <a class="el" href="cipconnectionmanager_8c_source.html#l00482">ForwardClose()</a>, <a class="el" href="cipconnectionmanager_8c_source.html#l00285">ForwardOpen()</a>, <a class="el" href="cipioconnection_8c_source.html#l00736">handleReceivedIOConnData()</a>, <a class="el" href="encap_8c_source.html#l00586">handleReceivedSendRRDataCmd()</a>, and <a class="el" href="encap_8c_source.html#l00542">handleReceivedSendUnitDataCmd()</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="group__ENCAP_ga4ac7387e49002d26462d7cdd094d238a_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga6ce01de4023c01608d2bdfdb584d59d3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="typedefs_8h.html#a72b3e7231681538d97279aa001872297">EIP_UINT16</a> ltohs </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="typedefs_8h.html#a811fdad4b361d09293f3bd0b814b8e18">EIP_UINT8</a> **&#160;</td>
          <td class="paramname"><em>pa_buf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads EIP_UINT16 from *pa_buf and converts little endian to host. </p>
<p>Get an 16Bit integer from the network buffer. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pa_buf</td><td>pointer to the network buffer array. This pointer will be incremented by 2!</td></tr>
    <tr><td class="paramname">pa_buf</td><td>pointer where data should be reed. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>EIP_UINT16 value </dd></dl>

<p>Definition at line <a class="el" href="endianconv_8c_source.html#l00020">20</a> of file <a class="el" href="endianconv_8c_source.html">endianconv.c</a>.</p>

<p>References <a class="el" href="typedefs_8h_source.html#l00068">EIP_UINT16</a>.</p>

<p>Referenced by <a class="el" href="cpf_8c_source.html#l00139">createCPFstructure()</a>, <a class="el" href="encap_8c_source.html#l00651">createEncapsulationStructure()</a>, <a class="el" href="cipcommon_8c_source.html#l00598">decodeData()</a>, <a class="el" href="cipcommon_8c_source.html#l00808">decodePaddedEPath()</a>, <a class="el" href="encap_8c_source.html#l00419">determineDelayTime()</a>, <a class="el" href="cipconnectionmanager_8c_source.html#l00482">ForwardClose()</a>, <a class="el" href="cipconnectionmanager_8c_source.html#l00285">ForwardOpen()</a>, <a class="el" href="POSIX_2networkhandler_8c_source.html#l00330">handleDataOnTCPSocket()</a>, <a class="el" href="cipioconnection_8c_source.html#l00736">handleReceivedIOConnData()</a>, <a class="el" href="encap_8c_source.html#l00451">handleReceivedRegisterSessionCmd()</a>, <a class="el" href="encap_8c_source.html#l00586">handleReceivedSendRRDataCmd()</a>, <a class="el" href="encap_8c_source.html#l00542">handleReceivedSendUnitDataCmd()</a>, <a class="el" href="cpf_8c_source.html#l00064">notifyConnectedCPF()</a>, <a class="el" href="cipconnectionmanager_8c_source.html#l00930">parseConnectionPath()</a>, and <a class="el" href="LM3S8962_2networkhandler_8c_source.html#l00163">tcp_receive_callback()</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="group__ENCAP_ga6ce01de4023c01608d2bdfdb584d59d3_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga52899252b48f864da5b3f107a110a785"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void manageEncapsulationMessages </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Handle delayed encapsulation message responses. </p>
<p>Certain encapsulation message requests require a delayed sending of the response message. This functions checks if messages need to be sent and performs the sending. </p>

<p>Definition at line <a class="el" href="encap_8c_source.html#l00722">722</a> of file <a class="el" href="encap_8c_source.html">encap.c</a>.</p>

<p>References <a class="el" href="encap_8c_source.html#l00057">ENCAP_NUMBER_OF_SUPPORTED_DELAYED_ENCAP_MESSAGES</a>, <a class="el" href="encap_8c_source.html#l00076">g_stDelayedEncapsulationMessages</a>, <a class="el" href="LM3S8962_2networkhandler_8c_source.html#l00345">IApp_SendUDPData()</a>, <a class="el" href="encap_8c_source.html#l00068">SDelayedEncapsulationMessage::m_anMsg</a>, <a class="el" href="encap_8c_source.html#l00066">SDelayedEncapsulationMessage::m_nSocket</a>, <a class="el" href="encap_8c_source.html#l00067">SDelayedEncapsulationMessage::m_stSendToAddr</a>, <a class="el" href="encap_8c_source.html#l00069">SDelayedEncapsulationMessage::m_unMessageSize</a>, <a class="el" href="encap_8c_source.html#l00065">SDelayedEncapsulationMessage::m_unTimeOut</a>, and <a class="el" href="LM3S8962_2sample__application_2opener__user__conf_8h_source.html#l00118">OPENER_TIMER_TICK</a>.</p>

<p>Referenced by <a class="el" href="cipconnectionmanager_8c_source.html#l00546">manageConnections()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="group__ENCAP_ga52899252b48f864da5b3f107a110a785_cgraph.svg" width="412" height="38"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="group__ENCAP_ga52899252b48f864da5b3f107a110a785_icgraph.svg" width="100%" height="366"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga615e04583bae27d4b8590e7f13d95d43"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int notifyConnectedCPF </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structS__Encapsulation__Data.html">S_Encapsulation_Data</a> *&#160;</td>
          <td class="paramname"><em>pa_stReceiveData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="typedefs_8h.html#a811fdad4b361d09293f3bd0b814b8e18">EIP_UINT8</a> *&#160;</td>
          <td class="paramname"><em>pa_acReplyBuf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Parse the CPF data from a received connected explicit message, check the connection status, update any timers, and hand the data on to the message router</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pa_stReceiveData</td><td>pointer to the encapsulation structure with the received message </td></tr>
    <tr><td class="paramname">pa_acReplyBuf</td><td>reply buffer </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>number of bytes to be sent back. &lt; 0 if nothing should be sent </dd></dl>

<p>Definition at line <a class="el" href="cpf_8c_source.html#l00064">64</a> of file <a class="el" href="cpf_8c_source.html">cpf.c</a>.</p>

<p>References <a class="el" href="cpf_8c_source.html#l00235">assembleLinearMsg()</a>, <a class="el" href="cpf_8h_source.html#l00025">CIP_ITEM_ID_CONNECTIONBASED</a>, <a class="el" href="cpf_8h_source.html#l00026">CIP_ITEM_ID_CONNECTIONTRANSPORTPACKET</a>, <a class="el" href="cipconnectionmanager_8h_source.html#l00129">CIP_ConnectionObject::CIPProducedConnectionID</a>, <a class="el" href="cpf_8h_source.html#l00035">S_Address_Data::ConnectionIdentifier</a>, <a class="el" href="cipconnectionmanager_8h_source.html#l00146">CIP_ConnectionObject::ConnectionTimeoutMultiplier</a>, <a class="el" href="cpf_8c_source.html#l00139">createCPFstructure()</a>, <a class="el" href="cpf_8h_source.html#l00043">S_Address_Item::Data</a>, <a class="el" href="cpf_8h_source.html#l00050">S_Data_Item::Data</a>, <a class="el" href="typedefs_8h_source.html#l00107">EIP_ERROR</a>, <a class="el" href="typedefs_8h_source.html#l00069">EIP_UINT32</a>, <a class="el" href="typedefs_8h_source.html#l00067">EIP_UINT8</a>, <a class="el" href="cipconnectionmanager_8c_source.html#l00793">getConnectedObject()</a>, <a class="el" href="cipmessagerouter_8c_source.html#l00014">gMRResponse</a>, <a class="el" href="cipconnectionmanager_8h_source.html#l00170">CIP_ConnectionObject::InnacitvityWatchdogTimer</a>, <a class="el" href="cpf_8h_source.html#l00049">S_Data_Item::Length</a>, <a class="el" href="endianconv_8c_source.html#l00020">ltohs()</a>, <a class="el" href="encap_8h_source.html#l00042">S_Encapsulation_Data::m_acCurrentCommBufferPos</a>, <a class="el" href="encap_8h_source.html#l00035">S_Encapsulation_Data::nData_length</a>, <a class="el" href="cipmessagerouter_8c_source.html#l00144">notifyMR()</a>, <a class="el" href="cipconnectionmanager_8h_source.html#l00147">CIP_ConnectionObject::O_to_T_RPI</a>, <a class="el" href="trace_8h_source.html#l00072">OPENER_TRACE_ERR</a>, <a class="el" href="cpf_8h_source.html#l00036">S_Address_Data::SequenceNumber</a>, <a class="el" href="cpf_8h_source.html#l00068">S_CIP_CPF_Data::stAddr_Item</a>, <a class="el" href="cpf_8h_source.html#l00069">S_CIP_CPF_Data::stDataI_Item</a>, <a class="el" href="cpf_8h_source.html#l00041">S_Address_Item::TypeID</a>, and <a class="el" href="cpf_8h_source.html#l00048">S_Data_Item::TypeID</a>.</p>

<p>Referenced by <a class="el" href="encap_8c_source.html#l00542">handleReceivedSendUnitDataCmd()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="group__ENCAP_ga615e04583bae27d4b8590e7f13d95d43_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="group__ENCAP_ga615e04583bae27d4b8590e7f13d95d43_icgraph.svg" width="100%" height="378"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
</p>

</div>
</div>
<a class="anchor" id="gaae831feae33de32fc7ea4ba1a1f9cc74"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int notifyCPF </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structS__Encapsulation__Data.html">S_Encapsulation_Data</a> *&#160;</td>
          <td class="paramname"><em>pa_stReceiveData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="typedefs_8h.html#a811fdad4b361d09293f3bd0b814b8e18">EIP_UINT8</a> *&#160;</td>
          <td class="paramname"><em>pa_acReplyBuf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Parse the CPF data from a received unconnected explicit message and hand the data on to the message router</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pa_stReceiveData</td><td>pointer to the encapsulation structure with the received message </td></tr>
    <tr><td class="paramname">pa_acReplyBuf</td><td>reply buffer </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>number of bytes to be sent back. &lt; 0 if nothing should be sent </dd></dl>

<p>Definition at line <a class="el" href="cpf_8c_source.html#l00020">20</a> of file <a class="el" href="cpf_8c_source.html">cpf.c</a>.</p>

<p>References <a class="el" href="cpf_8c_source.html#l00235">assembleLinearMsg()</a>, <a class="el" href="cpf_8h_source.html#l00023">CIP_ITEM_ID_NULL</a>, <a class="el" href="cpf_8h_source.html#l00027">CIP_ITEM_ID_UNCONNECTEDMESSAGE</a>, <a class="el" href="cpf_8c_source.html#l00139">createCPFstructure()</a>, <a class="el" href="cpf_8h_source.html#l00050">S_Data_Item::Data</a>, <a class="el" href="typedefs_8h_source.html#l00107">EIP_ERROR</a>, <a class="el" href="typedefs_8h_source.html#l00105">EIP_OK</a>, <a class="el" href="cipmessagerouter_8c_source.html#l00014">gMRResponse</a>, <a class="el" href="cpf_8h_source.html#l00049">S_Data_Item::Length</a>, <a class="el" href="encap_8h_source.html#l00042">S_Encapsulation_Data::m_acCurrentCommBufferPos</a>, <a class="el" href="encap_8h_source.html#l00035">S_Encapsulation_Data::nData_length</a>, <a class="el" href="cipmessagerouter_8c_source.html#l00144">notifyMR()</a>, <a class="el" href="encap_8h_source.html#l00037">S_Encapsulation_Data::nStatus</a>, <a class="el" href="encap_8h_source.html#l00025">OPENER_ENCAP_STATUS_INCORRECT_DATA</a>, <a class="el" href="trace_8h_source.html#l00072">OPENER_TRACE_ERR</a>, <a class="el" href="cpf_8h_source.html#l00068">S_CIP_CPF_Data::stAddr_Item</a>, <a class="el" href="cpf_8h_source.html#l00069">S_CIP_CPF_Data::stDataI_Item</a>, <a class="el" href="cpf_8h_source.html#l00041">S_Address_Item::TypeID</a>, and <a class="el" href="cpf_8h_source.html#l00048">S_Data_Item::TypeID</a>.</p>

<p>Referenced by <a class="el" href="encap_8c_source.html#l00586">handleReceivedSendRRDataCmd()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="group__ENCAP_gaae831feae33de32fc7ea4ba1a1f9cc74_cgraph.svg" width="100%" height="584"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="group__ENCAP_gaae831feae33de32fc7ea4ba1a1f9cc74_icgraph.svg" width="100%" height="378"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="ga00e4db57a2684c23db31f0eef084b26b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structS__CIP__CPF__Data.html">S_CIP_CPF_Data</a> g_stCPFDataItem</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Data storage for the any cpf data Currently we are single threaded and need only one cpf at the time. For future extensions towards multithreading maybe more cpf data items may be necessary. </p>

<p>Definition at line <a class="el" href="cpf_8c_source.html#l00017">17</a> of file <a class="el" href="cpf_8c_source.html">cpf.c</a>.</p>

<p>Referenced by <a class="el" href="cipconnectionmanager_8c_source.html#l00751">assembleFWDCloseResponse()</a>, <a class="el" href="cipconnectionmanager_8c_source.html#l00635">assembleFWDOpenResponse()</a>, <a class="el" href="cipconnectionmanager_8c_source.html#l00482">ForwardClose()</a>, <a class="el" href="cipconnectionmanager_8c_source.html#l00214">handleReceivedConnectedData()</a>, <a class="el" href="cipioconnection_8c_source.html#l00777">openCommunicationChannels()</a>, <a class="el" href="cipioconnection_8c_source.html#l00437">OpenMulticastConnection()</a>, <a class="el" href="cipioconnection_8c_source.html#l00369">openProducingMulticastConnection()</a>, and <a class="el" href="cipioconnection_8c_source.html#l00652">sendConnectedData()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Tue Oct 20 2015 10:08:29 for OpENer - Open Source EtherNet/IP(TM)  I/O Target Stack by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.9.1 </li>
  </ul>
</div>
</body>
</html>
